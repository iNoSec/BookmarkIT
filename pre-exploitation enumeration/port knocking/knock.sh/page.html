<!DOCTYPE html  PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN'  'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'><html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>knock.sh</title>
</head><body>#!/bin/bash<br/>
#---------------------------------------------------------------------------------#<br/>
# Name    = Port Knocking Script                        #<br/>
# Author   = @ihack4falafel                           #<br/>
# Date    = 9/15/2017                             #<br/>
# Usage   = chmod +x PortKnokcer.sh &amp;&amp; ./PortKnocker.sh            #<br/>
#---------------------------------------------------------------------------------#<br/>
<br/>
# Check user input<br/>
<br/>
if ([ -z &quot;$1&quot; ] || [ -z &quot;$2&quot; ] || [ -z &quot;$3&quot; ] || [ -z &quot;$4&quot; ]); then<br/>
 echo -e &quot;\e[33m[*] Usage : \e[35m$0 &lt;port 1&gt; &lt;port 2&gt; &lt;port 3&gt; &lt;IP Address&gt;\e[33m&quot;<br/>
 echo -e &quot;\e[33m[*] Example: \e[35m$0 1 2 3 192.168.199.150         \e[33m&quot;<br/>
 exit 1<br/>
fi<br/>
<br/>
# Check nmap<br/>
<br/>
if [ ! type nmap &amp;&gt; /dev/null ]; then<br/>
 echo &quot;\e[31m[-]\e[34m Please install nmap and rerun the script.\e[39m&quot;<br/>
 exit 0<br/>
fi<br/>
<br/>
# Perform port knocking <br/>
<br/>
echo -e &quot;\e[32m[+]\e[34m Knocking the following ports $1 $2 $3 ...\e[39m&quot;<br/>
sleep 3<br/>
<br/>
for port in $1 $2 $3; do nmap --host_timeout 100 --max-retries 0 -PN $4 3 -p $port; done &gt; /dev/null 2&gt;&amp;1<br/>
<br/>
echo -e &quot;\e[32m[+]\e[34m Checking for new open ports with nmap ...\e[39m&quot;<br/>
sleep 3<br/>
<br/>
nmap -sT -p- -r -n $4 --open | grep open<br/>
<br/>
</body></html>